<!DOCTYPE html>
<html>
<head>
<title>Simple Page</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Michroma&display=swap" rel="stylesheet" />
<style>
:root {
  --pitch: calc(4.75 / 70 * 100vw);
  --box-width: calc(2.794 / 70 * 100vw);
  --box-height: calc(1.981 / 70 * 100vw);
  --box-radius: calc(0.51 / 70 * 100vw);
}
html, body {
  height: 100%;
  margin: 0;
  font-family: 'Michroma', sans-serif;
}
.container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  width: 100vw;
}
.film {
  display: flex;
  justify-content: center;
  align-items: stretch;
  width: calc(65 / 70 * 100vw);
  min-height: 100vh;
  background-color: green;
}
.strip-left, .strip-right {
  background-color: orange;
  width: calc((65 - 52.63) / 2 / 70 * 100vw);
  min-height: 100vh;

  display: flex;
  flex-direction: column;
  align-items: center;

  gap: calc(var(--pitch) - var(--box-height));
  padding-top: var(--pitch);
  box-sizing: border-box;
  overflow-y: auto;
  position: relative;
}
.perf-hole {
  width: var(--box-width);
  height: var(--box-height);
  border-radius: var(--box-radius);
  background-color: white;
  flex-shrink: 0;
  box-shadow: 0 0 4px rgba(0,0,0,0.2);
}
.strip-left .perf-hole {
  transform: translateX(40%);
}
.strip-right .perf-hole {
  transform: translateX(-40%);
}
.zone {
  background-color: orange;
  width: calc(52.63 / 70 * 100vw);
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  min-height: 100vh;
  overflow-y: auto;
  position: relative;
}
.frame {
  --x-value:5;
  position: relative;
  background-color: transparent;
  width: 100%;
  aspect-ratio: calc(52.63 / (var(--x-value) * 4.75));
  flex-shrink: 0;
  border-radius: 12px;
  margin-bottom: 0;
  display: flex;
  flex-direction: column;
  padding: calc(0.3 / 70 * 100vw);
  box-sizing: border-box;
}
.frame-core {
  background-color: blue;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  overflow: hidden;
  transition: filter 0.5s ease;
  position: relative;
  z-index: 2; /* above overlay */
}
.frame-core::before {
  content: '';
  position: absolute;
  inset: 0;
  background-color: transparent;
  pointer-events: none;
  border-radius: 12px;
  z-index: -1;
}

/* Orange overlay after image filter */
.orange-bg .frame-core::after {
  content: '';
  position: absolute;
  inset: 0;
  background-color: rgba(255, 165, 0, 0.4);
  pointer-events: none;
  border-radius: 12px;
  z-index: 2; /* overlay above image */
}

.frame-content {
  position: relative;
  flex: 1 1 auto;
  overflow: hidden;
}
.frame-content img {
  position: absolute;
  top: 0;
  left: 50%;
  height: 100%; 
  transform: translateX(-50%);
  object-fit: cover;
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
  width: auto;
  max-width: none;
  display: block;
  z-index: 1;
}

/* Caption above overlay */
.caption {
  flex-shrink: 0;
  background-color: rgba(0,0,0,0.5);
  color: #fff;
  text-align: center;
  font-size: calc(1.8 / 70 * 100vw);
  padding: 0.3em 0;
  border-bottom-left-radius: 12px;
  border-bottom-right-radius: 12px;
  position: relative;
  z-index: 3;
}
.year-label {
  position: absolute;
  left: 110%;
  transform: translateX(-8%) rotate(90deg);
  transform-origin: top left;
  font-size: calc(1.8 / 70 * 100vw);
  font-weight: bold;
  pointer-events: none;
  white-space: nowrap;
  user-select: none;
  z-index: 10000;
  transition: color 0.5s ease;
}
/* Black background state */
.black-bg {
  background-color: black !important;
}
.black-bg .year-label {
  color: yellow !important;
}
.black-bg .frame-core {
  filter: none;
  position: relative;
}
.black-bg .frame-core::before {
  background-color: transparent;
}
.black-bg .frame-content img {
  filter: none !important;
}

/* Orange background state */
.orange-bg {
  background-color: orange !important;
}
.orange-bg .year-label {
  color: black !important;
}
.orange-bg .frame-core {
  filter: none !important; /* remove filter from frame-core */
}
.orange-bg .frame-content img {
  filter: hue-rotate(180deg) invert(1);
}
</style>
</head>
<body>
<div class="container">
  <div class="film">
    <div class="strip-left"></div>
    <div class="zone">

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/group0.png" alt="group0.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/aaa.jpg" alt="aaa.jpg"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/aaa.jpg" alt="aaa.jpg"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/liberdade.jpg" alt="liberdade.jpg"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/chapito.png" alt="chapito.png"/></div>
      <div class="caption"></div>
    </div>
  </div>


  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/doclis.png" alt="doclis.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/justy.jpg" alt="justy.jpg"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/dog.png" alt="dog.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/blue.jpg" alt="blue.jpg"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/group1.png" alt="group1.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/blender.png" alt="blender.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/redroom.jpg" alt="redroom.jpg"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/cctv.jpg" alt="cctv.jpg"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/alges.png" alt="alges.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/framing.png" alt="framing.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/cinema.png" alt="cinema.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/aaa.png" alt="aaa.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/people.png" alt="people.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/mms.png" alt="mms.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/cyano.png" alt="cyano.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/steady.png" alt="steady.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/nodes.png" alt="nodes.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/pop.png" alt="pop.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/vive.png" alt="vive.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/film.png" alt="film.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/boat.png" alt="boat.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/pcb3d.png" alt="pcb3d.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/432one.png" alt="432one.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/432three.png" alt="432three.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/mirror.png" alt="mirror.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/commands.png" alt="commands.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/moon.jpg" alt="moon.jpg"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/pic1.jpg" alt="pic1.jpg"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/pic2.jpg" alt="pic2.jpg"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/pic0.jpg" alt="pic0.jpg"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/skydive.png" alt="skydive.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/keyframes.png" alt="keyframes.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/pcb.png" alt="pcb.png"/></div>
      <div class="caption"></div>
    </div>
  </div>

  <div class="frame" style="--x-value:5;">
    <div class="frame-core">
      <div class="frame-content"><img src="media/watermelon.png" alt="watermelon.png"/></div>
      <div class="caption"></div>
    </div>
   </div>

    </div>
    <div class="strip-right"></div>
  </div>
</div>

<script>
function fillStrip(strip) {
  const vw = window.innerWidth / 100;
  const pitchPx = (4.75 / 70) * 100 * vw;
  const stripHeight = strip.clientHeight;
  const totalStep = pitchPx;
  const count = Math.floor(stripHeight / totalStep);
  strip.innerHTML = '';
  for (let i = 0; i < count; i++) {
    const box = document.createElement('div');
    box.className = 'perf-hole';
    strip.appendChild(box);
  }
}
function fillAllStrips() {
  document.querySelectorAll('.strip-left, .strip-right').forEach(fillStrip);
}
function updateYearLabelColors(stripRight, zone, years) {
  // Remove existing labels
  stripRight.querySelectorAll('.year-label').forEach(el => el.remove());
  const frames = [...zone.querySelectorAll('.frame')];
  frames.forEach((frame, i) => {
    const rectFrame = frame.getBoundingClientRect();
    const rectZone = zone.getBoundingClientRect();
    const offsetTop = rectFrame.top - rectZone.top + zone.scrollTop;
    const yearLabel = document.createElement('div');
    yearLabel.className = 'year-label';
    yearLabel.textContent = years[i] ?? 'Year';
    yearLabel.style.top = offsetTop + 'px';
    stripRight.appendChild(yearLabel);
  });
}
window.addEventListener('DOMContentLoaded', () => {
  fillAllStrips();

  const stripRight = document.querySelector('.strip-right');
  const zone = document.querySelector('.zone');
  const years = [
    "aaa '25",
    "Jul '25",
    "Jun '25",
    "May '25",
    "Jan '25",
    "Oct '24",
    "Oct '24",
    "Aug '24",
    "Aug '24",
    "Jun '24",
    "Jun '24",
    "Jun '24",


  ];

  updateYearLabelColors(stripRight, zone, years);

  const strips = document.querySelectorAll('.strip-left, .strip-right, .zone');
  let toggle = true;

  // Initialize with orange background state
  strips.forEach(el => el.classList.add('orange-bg'));
  strips.forEach(el => el.classList.remove('black-bg'));

  setInterval(() => {
    toggle = !toggle;
    strips.forEach(el => {
      if (toggle) {
        el.classList.remove('black-bg');
        el.classList.add('orange-bg');
      } else {
        el.classList.remove('orange-bg');
        el.classList.add('black-bg');
      }
    });
  }, 5000); // seconds toggle interval
});
window.addEventListener('resize', () => {
  fillAllStrips();

  const stripRight = document.querySelector('.strip-right');
  const zone = document.querySelector('.zone');
  const years = ['1980', '1985', '1990', '1995', '2000'];

  updateYearLabelColors(stripRight, zone, years);
});
</script>
</body>
</html>
